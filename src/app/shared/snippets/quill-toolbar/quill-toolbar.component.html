<div class="toolbar"
     [ngClass]="{'form': form}">  <!-- TOOLBAR -->
  <div>
    <ng-container *ngIf="(saving$ | async) as state">
      <ng-container [ngSwitch]="state.type">
        <!-- SAVING -->
        <ng-container *ngSwitchCase="'saving'">
          <div class="animated fadeIn">
            <i [class]="state.value ? 'fas fa-spinner fa-pulse' : 'fas fa-check'"></i> 
            <span>{{state.value ? 'Guardando...' : 'Guardado'}}</span>
          </div>
        </ng-container>
        <!-- WARNING -->
        <ng-container *ngSwitchCase="'warning'">
          <div class="animated fadeIn">
            <i class="fas fa-exclamation-triangle"></i>
            <span>No se ha podido guardar. Comprueba los datos</span>
          </div>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>
  <div class="actions" *ngIf="{
    saving: saving$ | async
  } as pipe">  
    <!-- ACTIONS -->
    <ng-container *ngFor="let l of list">
      <i [class]="l.icon"
         [matTooltip]="(!pipe.saving?.value && draft) ? l.label : null"
         (click)="switchObj[l.action](pipe.saving?.value)"
         [ngClass]="{'disabled': pipe.saving?.value || !draft}"
         *ngIf="!form">
      </i>
    </ng-container>
    <i class="far fa-question-circle" 
       matTooltip="Ayuda" 
       (click)="switchObj.help()" 
       *ngIf="!form">
    </i>
    <i class="fas fa-fast-forward"
       [matTooltip]="(!pipe.saving?.value && draft) ? 'Siguiente' : null"
       [ngClass]="{'disabled': pipe.saving?.value || !draft}"
       (click)="switchObj.next()"
       *ngIf="!form">
    </i>
    <i class="fas fa-fast-backward"
       matTooltip="AtrÃ¡s"
       [routerLink]="['../']"
       *ngIf="form">
    </i>
  </div>
</div>
